[{"benchmark":"benchmark_find","results":[{"name":"populating keymap that has 2 attached indexes","started":1294858386833,"count":100000,"mem_usage_before":{"rss":13803520,"vsize":3117813760,"heapTotal":6433984,"heapUsed":4229768},"ended":1294860872450,"ellapsed":2485617,"average":24.85617,"throughput":40,"memory_usage_after":{"rss":244076544,"vsize":3319209984,"heapTotal":236125504,"heapUsed":198944824},"rss_diff":230273024},{"name":"find $eq operator","started":1294860872450,"count":1000,"mem_usage_before":{"rss":244076544,"vsize":3319209984,"heapTotal":236125504,"heapUsed":198946264},"ended":1294860888373,"ellapsed":15923,"average":15.923,"throughput":62,"memory_usage_after":{"rss":244088832,"vsize":3319209984,"heapTotal":236125504,"heapUsed":206517344},"rss_diff":12288},{"name":"find $range operator","started":1294860888373,"count":1000,"mem_usage_before":{"rss":244088832,"vsize":3319209984,"heapTotal":236125504,"heapUsed":206518616},"ended":1294860920371,"ellapsed":31998,"average":31.998,"throughput":31,"memory_usage_after":{"rss":244101120,"vsize":3319226368,"heapTotal":236141888,"heapUsed":197195968},"rss_diff":12288}]},{"benchmark":"benchmark_collection","results":[{"name":"opening collection","started":1294860948694,"count":1,"mem_usage_before":{"rss":9371648,"vsize":3106881536,"heapTotal":4211808,"heapUsed":1942640},"ended":1294860948743,"ellapsed":49,"average":49,"throughput":20,"memory_usage_after":{"rss":11616256,"vsize":3117223936,"heapTotal":5331104,"heapUsed":2655208},"rss_diff":2244608},{"name":"prunning collection","started":1294860948743,"count":1,"mem_usage_before":{"rss":11620352,"vsize":3117223936,"heapTotal":5331104,"heapUsed":2657152},"ended":1294860948745,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":11677696,"vsize":3117301760,"heapTotal":5331104,"heapUsed":2707928},"rss_diff":57344},{"name":"populating collection","started":1294860948745,"count":100000,"mem_usage_before":{"rss":11677696,"vsize":3117301760,"heapTotal":5331104,"heapUsed":2709200},"ended":1294860951855,"ellapsed":3110,"average":0.0311,"throughput":32154,"memory_usage_after":{"rss":90451968,"vsize":3164385280,"heapTotal":83358080,"heapUsed":61258360},"rss_diff":78774272},{"name":"reading entire collection of 100000 records","started":1294860951856,"count":1,"mem_usage_before":{"rss":90451968,"vsize":3164385280,"heapTotal":83358080,"heapUsed":61259104},"ended":1294861361232,"ellapsed":409376,"average":409376,"throughput":0,"memory_usage_after":{"rss":59830272,"vsize":3165171712,"heapTotal":52659680,"heapUsed":49288768},"rss_diff":-30621696}]},{"benchmark":"benchmark_collection_filter","results":[{"name":"Collection filter of collection with 100000 records","started":1294861386856,"count":1,"mem_usage_before":{"rss":88735744,"vsize":3162734592,"heapTotal":81742400,"heapUsed":50101104},"ended":1294861798076,"ellapsed":411220,"average":411220,"throughput":0,"memory_usage_after":{"rss":57966592,"vsize":3163258880,"heapTotal":50791040,"heapUsed":48420360},"rss_diff":-30769152}]},{"benchmark":"benchmark_key_map","results":[{"name":"Insert object into key map","started":1294861821067,"count":50000,"mem_usage_before":{"rss":12193792,"vsize":3117334528,"heapTotal":5633152,"heapUsed":3104344},"ended":1294861823096,"ellapsed":2029,"average":0.04058,"throughput":24642,"memory_usage_after":{"rss":75141120,"vsize":3148578816,"heapTotal":68151520,"heapUsed":43462632},"rss_diff":62947328},{"name":"Retrieve a random object by key from a 50000 hash map","started":1294861824096,"count":10,"mem_usage_before":{"rss":75145216,"vsize":3148578816,"heapTotal":68151520,"heapUsed":43485288},"ended":1294862770427,"ellapsed":946331,"average":94633.1,"throughput":0,"memory_usage_after":{"rss":45633536,"vsize":3132604416,"heapTotal":36245728,"heapUsed":19225664},"rss_diff":-29511680}]},{"benchmark":"benchmark_key_map_each_with_pos","results":[{"name":"key_map.each_with_pos for a key map with 100000 elements","started":1294862776544,"count":1,"mem_usage_before":{"rss":100511744,"vsize":3174363136,"heapTotal":93427584,"heapUsed":72986488},"ended":1294863264991,"ellapsed":488447,"average":488447,"throughput":0,"memory_usage_after":{"rss":71000064,"vsize":3135582208,"heapTotal":59163808,"heapUsed":40881608},"rss_diff":-29511680}]},{"benchmark":"benchmark_indexed_key_map","results":[{"name":"open empty indexed key map","started":1294863266110,"count":1,"mem_usage_before":{"rss":12226560,"vsize":3107708928,"heapTotal":5592224,"heapUsed":3207544},"ended":1294863266113,"ellapsed":3,"average":3,"throughput":333,"memory_usage_after":{"rss":12357632,"vsize":3117223936,"heapTotal":5592224,"heapUsed":3297136},"rss_diff":131072},{"name":"clear empty indexed key map","started":1294863266113,"count":1,"mem_usage_before":{"rss":12357632,"vsize":3117223936,"heapTotal":5592224,"heapUsed":3299144},"ended":1294863266115,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":12419072,"vsize":3117301760,"heapTotal":5592224,"heapUsed":3349512},"rss_diff":61440},{"name":"populate indexed key map","started":1294863266115,"count":100000,"mem_usage_before":{"rss":12419072,"vsize":3117301760,"heapTotal":5592224,"heapUsed":3350784},"ended":1294863271571,"ellapsed":5456,"average":0.05456,"throughput":18328,"memory_usage_after":{"rss":132071424,"vsize":3206066176,"heapTotal":124695744,"heapUsed":92971808},"rss_diff":119652352},{"name":"reopen indexed key map with 100000 elements","started":1294863294774,"count":1,"mem_usage_before":{"rss":93401088,"vsize":3159404544,"heapTotal":80476704,"heapUsed":44944120},"ended":1294863316961,"ellapsed":22187,"average":22187,"throughput":0,"memory_usage_after":{"rss":123035648,"vsize":3175403520,"heapTotal":109779488,"heapUsed":81283808},"rss_diff":29634560},{"name":"indexed_key_map.get","started":1294863316961,"count":300000,"mem_usage_before":{"rss":123035648,"vsize":3175403520,"heapTotal":109779488,"heapUsed":81289592},"ended":1294863343230,"ellapsed":26269,"average":0.08756333333333334,"throughput":11420,"memory_usage_after":{"rss":521003008,"vsize":3655094272,"heapTotal":439476128,"heapUsed":394369384},"rss_diff":397967360}]},{"benchmark":"benchmark_indexed_key_map_random","results":[{"name":"open empty indexed key map","started":1294863386464,"count":1,"mem_usage_before":{"rss":12197888,"vsize":3107708928,"heapTotal":5592224,"heapUsed":3207968},"ended":1294863386467,"ellapsed":3,"average":3,"throughput":333,"memory_usage_after":{"rss":12406784,"vsize":3117223936,"heapTotal":5592224,"heapUsed":3297616},"rss_diff":208896},{"name":"clear empty indexed key map","started":1294863386467,"count":1,"mem_usage_before":{"rss":12410880,"vsize":3117223936,"heapTotal":5592224,"heapUsed":3299624},"ended":1294863386469,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":12460032,"vsize":3117301760,"heapTotal":5592224,"heapUsed":3350008},"rss_diff":49152},{"name":"populate indexed key map","started":1294863386469,"count":100000,"mem_usage_before":{"rss":12460032,"vsize":3117301760,"heapTotal":5592224,"heapUsed":3351280},"ended":1294863391977,"ellapsed":5508,"average":0.05508,"throughput":18155,"memory_usage_after":{"rss":137981952,"vsize":3211833344,"heapTotal":130652640,"heapUsed":110582880},"rss_diff":125521920},{"name":"reopen indexed key map with 100000 elements","started":1294863417256,"count":1,"mem_usage_before":{"rss":95641600,"vsize":3159666688,"heapTotal":82639200,"heapUsed":62928112},"ended":1294863439199,"ellapsed":21943,"average":21943,"throughput":0,"memory_usage_after":{"rss":130048000,"vsize":3182481408,"heapTotal":116903264,"heapUsed":87584000},"rss_diff":34406400},{"name":"cached_key_map.get","started":1294863439200,"count":300000,"mem_usage_before":{"rss":130048000,"vsize":3182481408,"heapTotal":116903264,"heapUsed":87588896},"ended":1294863499180,"ellapsed":59980,"average":0.19993333333333332,"throughput":5001,"memory_usage_after":{"rss":174383104,"vsize":3255848960,"heapTotal":109550848,"heapUsed":98890640},"rss_diff":44335104}]},{"benchmark":"benchmark_cached_key_map_random","results":[{"name":"open empty indexed key map","started":1294863501126,"count":1,"mem_usage_before":{"rss":12288000,"vsize":3107676160,"heapTotal":5559456,"heapUsed":3307376},"ended":1294863501129,"ellapsed":3,"average":3,"throughput":333,"memory_usage_after":{"rss":12414976,"vsize":3108802560,"heapTotal":5559456,"heapUsed":3402640},"rss_diff":126976},{"name":"clear empty indexed key map","started":1294863501130,"count":1,"mem_usage_before":{"rss":12414976,"vsize":3108802560,"heapTotal":5559456,"heapUsed":3404144},"ended":1294863501132,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":12480512,"vsize":3108880384,"heapTotal":5559456,"heapUsed":3455240},"rss_diff":65536},{"name":"populate indexed key map","started":1294863501132,"count":100000,"mem_usage_before":{"rss":12480512,"vsize":3108880384,"heapTotal":5559456,"heapUsed":3456512},"ended":1294863507476,"ellapsed":6344,"average":0.06344,"throughput":15762,"memory_usage_after":{"rss":199086080,"vsize":3273838592,"heapTotal":191555552,"heapUsed":159058288},"rss_diff":186605568},{"name":"reopen indexed key map with 100000 records","started":1294863535792,"count":1,"mem_usage_before":{"rss":117493760,"vsize":3209224192,"heapTotal":101827264,"heapUsed":98032000},"ended":1294863575507,"ellapsed":39715,"average":39715,"throughput":0,"memory_usage_after":{"rss":306515968,"vsize":3350835200,"heapTotal":263791520,"heapUsed":240544216},"rss_diff":189022208},{"name":"cached_key_map.get","started":1294863575507,"count":300000,"mem_usage_before":{"rss":306515968,"vsize":3350835200,"heapTotal":263791520,"heapUsed":240549112},"ended":1294863576051,"ellapsed":544,"average":0.0018133333333333332,"throughput":551470,"memory_usage_after":{"rss":281550848,"vsize":3343486976,"heapTotal":237136800,"heapUsed":183152312},"rss_diff":-24965120},{"name":"ending key_map","started":1294863576051,"count":1,"mem_usage_before":{"rss":281550848,"vsize":3343486976,"heapTotal":237136800,"heapUsed":183152944},"ended":1294863576052,"ellapsed":1,"average":1,"throughput":1000,"memory_usage_after":{"rss":281550848,"vsize":3343486976,"heapTotal":237136800,"heapUsed":183198864},"rss_diff":0},{"name":"wait 10 seconds for gc to kick in","started":1294863576052,"count":1,"mem_usage_before":{"rss":281550848,"vsize":3343486976,"heapTotal":237136800,"heapUsed":183203064},"ended":1294863586053,"ellapsed":10001,"average":10001,"throughput":0,"memory_usage_after":{"rss":212692992,"vsize":3306786816,"heapTotal":168351584,"heapUsed":165868400},"rss_diff":-68857856}]},{"benchmark":"benchmark_unordered_index","results":[{"name":"open key map","started":1294863588061,"count":1,"mem_usage_before":{"rss":11866112,"vsize":3107741696,"heapTotal":5363872,"heapUsed":3010312},"ended":1294863588064,"ellapsed":3,"average":3,"throughput":333,"memory_usage_after":{"rss":12120064,"vsize":3117256704,"heapTotal":5624992,"heapUsed":3094800},"rss_diff":253952},{"name":"clear key map","started":1294863588064,"count":1,"mem_usage_before":{"rss":12124160,"vsize":3117256704,"heapTotal":5624992,"heapUsed":3096896},"ended":1294863588066,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":12185600,"vsize":3117334528,"heapTotal":5624992,"heapUsed":3147608},"rss_diff":61440},{"name":"populate key map","started":1294863588066,"count":90000,"mem_usage_before":{"rss":12201984,"vsize":3117334528,"heapTotal":5624992,"heapUsed":3165480},"ended":1294863591592,"ellapsed":3526,"average":0.03917777777777778,"throughput":25524,"memory_usage_after":{"rss":130035712,"vsize":3203993600,"heapTotal":122860928,"heapUsed":97601688},"rss_diff":117833728},{"name":"end key map","started":1294863591592,"count":1,"mem_usage_before":{"rss":130035712,"vsize":3203993600,"heapTotal":122860928,"heapUsed":97602320},"ended":1294863610431,"ellapsed":18839,"average":18839,"throughput":0,"memory_usage_after":{"rss":115417088,"vsize":3180924928,"heapTotal":101245088,"heapUsed":58833416},"rss_diff":-14618624},{"name":"reopen key map with 90000 elements","started":1294863610431,"count":1,"mem_usage_before":{"rss":115417088,"vsize":3180924928,"heapTotal":101245088,"heapUsed":58834160},"ended":1294863610432,"ellapsed":1,"average":1,"throughput":1000,"memory_usage_after":{"rss":115421184,"vsize":3180924928,"heapTotal":101245088,"heapUsed":58869680},"rss_diff":4096},{"name":"add index to key map with 90000 elements","started":1294863610432,"count":1,"mem_usage_before":{"rss":115421184,"vsize":3180924928,"heapTotal":101245088,"heapUsed":58871064},"ended":1294863632729,"ellapsed":22297,"average":22297,"throughput":0,"memory_usage_after":{"rss":177491968,"vsize":3235635200,"heapTotal":163142720,"heapUsed":132583456},"rss_diff":62070784},{"name":"scan index of key map with 90000 elements","started":1294863632729,"count":1,"mem_usage_before":{"rss":177496064,"vsize":3235635200,"heapTotal":163142720,"heapUsed":132591960},"ended":1294863632735,"ellapsed":6,"average":6,"throughput":166,"memory_usage_after":{"rss":177496064,"vsize":3235635200,"heapTotal":163142720,"heapUsed":132597520},"rss_diff":0},{"name":"scan and get 30000elements from a key map with 90000elements","started":1294863632735,"count":30000,"mem_usage_before":{"rss":177496064,"vsize":3235635200,"heapTotal":163142720,"heapUsed":132601272},"ended":1294863636648,"ellapsed":3913,"average":0.13043333333333335,"throughput":7666,"memory_usage_after":{"rss":241307648,"vsize":3277135872,"heapTotal":219263040,"heapUsed":122902976},"rss_diff":63811584}]},{"benchmark":"benchmark_cached_unordered_index","results":[{"name":"open key map","started":1294863637839,"count":1,"mem_usage_before":{"rss":12320768,"vsize":3107676160,"heapTotal":5559456,"heapUsed":3312736},"ended":1294863637842,"ellapsed":3,"average":3,"throughput":333,"memory_usage_after":{"rss":12451840,"vsize":3108802560,"heapTotal":5559456,"heapUsed":3408200},"rss_diff":131072},{"name":"clearing key map","started":1294863637843,"count":1,"mem_usage_before":{"rss":12455936,"vsize":3108802560,"heapTotal":5559456,"heapUsed":3409744},"ended":1294863637844,"ellapsed":1,"average":1,"throughput":1000,"memory_usage_after":{"rss":12525568,"vsize":3108880384,"heapTotal":5559456,"heapUsed":3460824},"rss_diff":69632},{"name":"populating key map","started":1294863637844,"count":90000,"mem_usage_before":{"rss":12554240,"vsize":3108880384,"heapTotal":5559456,"heapUsed":3496200},"ended":1294863642683,"ellapsed":4839,"average":0.053766666666666664,"throughput":18598,"memory_usage_after":{"rss":177836032,"vsize":3243819008,"heapTotal":170388896,"heapUsed":137397064},"rss_diff":165281792},{"name":"ending key map","started":1294863642683,"count":1,"mem_usage_before":{"rss":177836032,"vsize":3243819008,"heapTotal":170388896,"heapUsed":137397696},"ended":1294863663734,"ellapsed":21051,"average":21051,"throughput":0,"memory_usage_after":{"rss":132886528,"vsize":3205681152,"heapTotal":115846720,"heapUsed":88680752},"rss_diff":-44949504},{"name":"reopening key map with 90000 entries","started":1294863663734,"count":1,"mem_usage_before":{"rss":132886528,"vsize":3205681152,"heapTotal":115846720,"heapUsed":88681496},"ended":1294863699664,"ellapsed":35930,"average":35930,"throughput":0,"memory_usage_after":{"rss":301174784,"vsize":3359547392,"heapTotal":246533504,"heapUsed":190272504},"rss_diff":168288256},{"name":"adding index to key map with 90000 entries","started":1294863699664,"count":1,"mem_usage_before":{"rss":301174784,"vsize":3359547392,"heapTotal":246533504,"heapUsed":190273248},"ended":1294863715160,"ellapsed":15496,"average":15496,"throughput":0,"memory_usage_after":{"rss":337575936,"vsize":3402567680,"heapTotal":291350592,"heapUsed":269231224},"rss_diff":36401152},{"name":"scan index with 90000 entries","started":1294863715160,"count":1,"mem_usage_before":{"rss":337588224,"vsize":3402567680,"heapTotal":291350592,"heapUsed":269239728},"ended":1294863715165,"ellapsed":5,"average":5,"throughput":200,"memory_usage_after":{"rss":337588224,"vsize":3402567680,"heapTotal":291350592,"heapUsed":269245544},"rss_diff":0},{"name":"filter and get 30000 records from a key map with 90000 elements","started":1294863715165,"count":1,"mem_usage_before":{"rss":337596416,"vsize":3402567680,"heapTotal":291350592,"heapUsed":269250792},"ended":1294863715272,"ellapsed":107,"average":107,"throughput":9,"memory_usage_after":{"rss":353333248,"vsize":3414102016,"heapTotal":302815392,"heapUsed":274444192},"rss_diff":15736832}]},{"benchmark":"benchmark_cached_ordered_index","results":[{"name":"open key map","started":1294863716454,"count":1,"mem_usage_before":{"rss":12320768,"vsize":3107676160,"heapTotal":5559456,"heapUsed":3312872},"ended":1294863749626,"ellapsed":33172,"average":33172,"throughput":0,"memory_usage_after":{"rss":218693632,"vsize":3279327232,"heapTotal":165272608,"heapUsed":124735800},"rss_diff":206372864},{"name":"clearing key map","started":1294863749626,"count":1,"mem_usage_before":{"rss":218693632,"vsize":3279327232,"heapTotal":165272608,"heapUsed":124737344},"ended":1294863749632,"ellapsed":6,"average":6,"throughput":166,"memory_usage_after":{"rss":218836992,"vsize":3279327232,"heapTotal":165533728,"heapUsed":124794168},"rss_diff":143360},{"name":"populating key map","started":1294863749632,"count":90000,"mem_usage_before":{"rss":218836992,"vsize":3279327232,"heapTotal":165533728,"heapUsed":124824592},"ended":1294863754509,"ellapsed":4877,"average":0.05418888888888889,"throughput":18453,"memory_usage_after":{"rss":218062848,"vsize":3289395200,"heapTotal":174150272,"heapUsed":143419024},"rss_diff":-774144},{"name":"ending key map","started":1294863754509,"count":1,"mem_usage_before":{"rss":218062848,"vsize":3289395200,"heapTotal":174150272,"heapUsed":143419656},"ended":1294863776085,"ellapsed":21576,"average":21576,"throughput":0,"memory_usage_after":{"rss":154533888,"vsize":3235229696,"heapTotal":116104256,"heapUsed":102698760},"rss_diff":-63528960},{"name":"reopening key map with 90000 entries","started":1294863776085,"count":1,"mem_usage_before":{"rss":154533888,"vsize":3235229696,"heapTotal":116104256,"heapUsed":102699504},"ended":1294863812822,"ellapsed":36737,"average":36737,"throughput":0,"memory_usage_after":{"rss":280580096,"vsize":3330904064,"heapTotal":231252736,"heapUsed":212653968},"rss_diff":126046208},{"name":"adding index to key map with 90000 entries","started":1294863812822,"count":1,"mem_usage_before":{"rss":280580096,"vsize":3330904064,"heapTotal":231252736,"heapUsed":212654712},"ended":1294863827469,"ellapsed":14647,"average":14647,"throughput":0,"memory_usage_after":{"rss":389365760,"vsize":3436634112,"heapTotal":331703872,"heapUsed":263139368},"rss_diff":108785664},{"name":"scan index with 90000 entries","started":1294863827469,"count":1,"mem_usage_before":{"rss":389365760,"vsize":3436634112,"heapTotal":331703872,"heapUsed":263147872},"ended":1294863827473,"ellapsed":4,"average":4,"throughput":250,"memory_usage_after":{"rss":389365760,"vsize":3436634112,"heapTotal":331703872,"heapUsed":263153688},"rss_diff":0},{"name":"filter and get 30000 records from a key map with 90000 elements","started":1294863827474,"count":1,"mem_usage_before":{"rss":389369856,"vsize":3436634112,"heapTotal":331703872,"heapUsed":263158936},"ended":1294863827538,"ellapsed":64,"average":64,"throughput":15,"memory_usage_after":{"rss":389369856,"vsize":3436634112,"heapTotal":331703872,"heapUsed":266613792},"rss_diff":0}]}]
