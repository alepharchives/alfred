[{"benchmark":"benchmark_find","results":[{"name":"populating keymap that has 2 attached indexes","started":1294952234126,"count":100000,"mem_usage_before":{"rss":13713408,"vsize":3117813760,"heapTotal":6433984,"heapUsed":4230832},"ended":1294952242089,"ellapsed":7963,"average":0.07963,"throughput":12558,"memory_usage_after":{"rss":206184448,"vsize":3280904192,"heapTotal":198645632,"heapUsed":165773752},"rss_diff":192471040},{"name":"find $eq operator","started":1294952242089,"count":1000,"mem_usage_before":{"rss":206184448,"vsize":3280904192,"heapTotal":198645632,"heapUsed":165775192},"ended":1294952258333,"ellapsed":16244,"average":16.244,"throughput":61,"memory_usage_after":{"rss":203132928,"vsize":3277959168,"heapTotal":195645504,"heapUsed":170093744},"rss_diff":-3051520},{"name":"find $range operator","started":1294952258333,"count":1000,"mem_usage_before":{"rss":203132928,"vsize":3277959168,"heapTotal":195645504,"heapUsed":170094376},"ended":1294952290295,"ellapsed":31962,"average":31.962,"throughput":31,"memory_usage_after":{"rss":204636160,"vsize":3279548416,"heapTotal":197179648,"heapUsed":174553928},"rss_diff":1503232}]},{"benchmark":"benchmark_collection","results":[{"name":"opening collection","started":1294952317280,"count":1,"mem_usage_before":{"rss":9371648,"vsize":3106881536,"heapTotal":4211808,"heapUsed":1942640},"ended":1294952317309,"ellapsed":29,"average":29,"throughput":34,"memory_usage_after":{"rss":11616256,"vsize":3117223936,"heapTotal":5331104,"heapUsed":2655208},"rss_diff":2244608},{"name":"prunning collection","started":1294952317309,"count":1,"mem_usage_before":{"rss":11620352,"vsize":3117223936,"heapTotal":5331104,"heapUsed":2657152},"ended":1294952317311,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":11677696,"vsize":3117301760,"heapTotal":5331104,"heapUsed":2707928},"rss_diff":57344},{"name":"populating collection","started":1294952317311,"count":100000,"mem_usage_before":{"rss":11677696,"vsize":3117301760,"heapTotal":5331104,"heapUsed":2709200},"ended":1294952320347,"ellapsed":3036,"average":0.03036,"throughput":32938,"memory_usage_after":{"rss":84889600,"vsize":3158974464,"heapTotal":77832000,"heapUsed":53112280},"rss_diff":73211904},{"name":"reading entire collection of 100000 records","started":1294952320347,"count":1,"mem_usage_before":{"rss":84889600,"vsize":3158974464,"heapTotal":77832000,"heapUsed":53113024},"ended":1294952718711,"ellapsed":398364,"average":398364,"throughput":0,"memory_usage_after":{"rss":53469184,"vsize":3158880256,"heapTotal":46262144,"heapUsed":43719472},"rss_diff":-31420416}]},{"benchmark":"benchmark_collection_filter","results":[{"name":"Collection filter of collection with 100000 records","started":1294952743987,"count":1,"mem_usage_before":{"rss":87515136,"vsize":3161501696,"heapTotal":80493920,"heapUsed":47050944},"ended":1294953143473,"ellapsed":399486,"average":399486,"throughput":0,"memory_usage_after":{"rss":56692736,"vsize":3162025984,"heapTotal":49542560,"heapUsed":46363464},"rss_diff":-30822400}]},{"benchmark":"benchmark_key_map","results":[{"name":"Insert object into key map","started":1294953166434,"count":50000,"mem_usage_before":{"rss":12128256,"vsize":3117334528,"heapTotal":5633152,"heapUsed":3104232},"ended":1294953168457,"ellapsed":2023,"average":0.04046,"throughput":24715,"memory_usage_after":{"rss":75059200,"vsize":3148578816,"heapTotal":68151520,"heapUsed":43939728},"rss_diff":62930944},{"name":"Retrieve a random object by key from a 50000 hash map","started":1294953169457,"count":10,"mem_usage_before":{"rss":75063296,"vsize":3148578816,"heapTotal":68151520,"heapUsed":43962384},"ended":1294954157925,"ellapsed":988468,"average":98846.8,"throughput":0,"memory_usage_after":{"rss":45977600,"vsize":3132604416,"heapTotal":36245728,"heapUsed":19011432},"rss_diff":-29085696}]},{"benchmark":"benchmark_key_map_each_with_pos","results":[{"name":"key_map.each_with_pos for a key map with 100000 elements","started":1294954164035,"count":1,"mem_usage_before":{"rss":94441472,"vsize":3168333824,"heapTotal":87315648,"heapUsed":55831448},"ended":1294954595898,"ellapsed":431863,"average":431863,"throughput":0,"memory_usage_after":{"rss":66543616,"vsize":3132174336,"heapTotal":55189792,"heapUsed":32435176},"rss_diff":-27897856}]},{"benchmark":"benchmark_indexed_key_map","results":[{"name":"open empty indexed key map","started":1294954597021,"count":1,"mem_usage_before":{"rss":12226560,"vsize":3107708928,"heapTotal":5592224,"heapUsed":3207432},"ended":1294954597025,"ellapsed":4,"average":4,"throughput":250,"memory_usage_after":{"rss":12431360,"vsize":3117223936,"heapTotal":5592224,"heapUsed":3297008},"rss_diff":204800},{"name":"clear empty indexed key map","started":1294954597025,"count":1,"mem_usage_before":{"rss":12431360,"vsize":3117223936,"heapTotal":5592224,"heapUsed":3299016},"ended":1294954597026,"ellapsed":1,"average":1,"throughput":1000,"memory_usage_after":{"rss":12484608,"vsize":3117301760,"heapTotal":5592224,"heapUsed":3349384},"rss_diff":53248},{"name":"populate indexed key map","started":1294954597027,"count":100000,"mem_usage_before":{"rss":12484608,"vsize":3117301760,"heapTotal":5592224,"heapUsed":3350656},"ended":1294954602539,"ellapsed":5512,"average":0.05512,"throughput":18142,"memory_usage_after":{"rss":138223616,"vsize":3212095488,"heapTotal":130840320,"heapUsed":103179832},"rss_diff":125739008},{"name":"reopen indexed key map with 100000 elements","started":1294954626245,"count":1,"mem_usage_before":{"rss":98590720,"vsize":3173560320,"heapTotal":84613664,"heapUsed":67906152},"ended":1294954648703,"ellapsed":22458,"average":22458,"throughput":0,"memory_usage_after":{"rss":130981888,"vsize":3182481408,"heapTotal":116903264,"heapUsed":66845872},"rss_diff":32391168},{"name":"indexed_key_map.get","started":1294954648703,"count":300000,"mem_usage_before":{"rss":130981888,"vsize":3182481408,"heapTotal":116903264,"heapUsed":66851656},"ended":1294954659470,"ellapsed":10767,"average":0.03589,"throughput":27862,"memory_usage_after":{"rss":590086144,"vsize":3656667136,"heapTotal":439908704,"heapUsed":404764176},"rss_diff":459104256}]},{"benchmark":"benchmark_indexed_key_map_random","results":[{"name":"open empty indexed key map","started":1294954697306,"count":1,"mem_usage_before":{"rss":12197888,"vsize":3107708928,"heapTotal":5592224,"heapUsed":3207856},"ended":1294954697347,"ellapsed":41,"average":41,"throughput":24,"memory_usage_after":{"rss":12320768,"vsize":3108835328,"heapTotal":5592224,"heapUsed":3297504},"rss_diff":122880},{"name":"clear empty indexed key map","started":1294954697347,"count":1,"mem_usage_before":{"rss":12324864,"vsize":3108835328,"heapTotal":5592224,"heapUsed":3299512},"ended":1294954697349,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":12378112,"vsize":3108913152,"heapTotal":5592224,"heapUsed":3349896},"rss_diff":53248},{"name":"populate indexed key map","started":1294954697349,"count":100000,"mem_usage_before":{"rss":12378112,"vsize":3108913152,"heapTotal":5592224,"heapUsed":3351168},"ended":1294954702864,"ellapsed":5515,"average":0.05515,"throughput":18132,"memory_usage_after":{"rss":131919872,"vsize":3197677568,"heapTotal":124687584,"heapUsed":97150368},"rss_diff":119541760},{"name":"reopen indexed key map with 100000 elements","started":1294954728349,"count":1,"mem_usage_before":{"rss":106045440,"vsize":3166744576,"heapTotal":92178144,"heapUsed":56480880},"ended":1294954751537,"ellapsed":23188,"average":23188,"throughput":0,"memory_usage_after":{"rss":116326400,"vsize":3176189952,"heapTotal":102459968,"heapUsed":79402064},"rss_diff":10280960},{"name":"cached_key_map.get","started":1294954751537,"count":300000,"mem_usage_before":{"rss":116326400,"vsize":3176189952,"heapTotal":102459968,"heapUsed":79406960},"ended":1294954801980,"ellapsed":50443,"average":0.16814333333333334,"throughput":5947,"memory_usage_after":{"rss":180301824,"vsize":3251916800,"heapTotal":116445952,"heapUsed":103705216},"rss_diff":63975424}]},{"benchmark":"benchmark_cached_key_map_random","results":[{"name":"open empty indexed key map","started":1294954803978,"count":1,"mem_usage_before":{"rss":12288000,"vsize":3107676160,"heapTotal":5559456,"heapUsed":3307264},"ended":1294954803982,"ellapsed":4,"average":4,"throughput":250,"memory_usage_after":{"rss":12414976,"vsize":3108802560,"heapTotal":5559456,"heapUsed":3402512},"rss_diff":126976},{"name":"clear empty indexed key map","started":1294954803982,"count":1,"mem_usage_before":{"rss":12414976,"vsize":3108802560,"heapTotal":5559456,"heapUsed":3404016},"ended":1294954803984,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":12476416,"vsize":3108880384,"heapTotal":5559456,"heapUsed":3455112},"rss_diff":61440},{"name":"populate indexed key map","started":1294954803984,"count":100000,"mem_usage_before":{"rss":12480512,"vsize":3108880384,"heapTotal":5559456,"heapUsed":3456384},"ended":1294954810293,"ellapsed":6309,"average":0.06309,"throughput":15850,"memory_usage_after":{"rss":199028736,"vsize":3265974272,"heapTotal":191473952,"heapUsed":158855696},"rss_diff":186548224},{"name":"reopen indexed key map with 100000 records","started":1294954838770,"count":1,"mem_usage_before":{"rss":118538240,"vsize":3210010624,"heapTotal":102635104,"heapUsed":98747872},"ended":1294954877748,"ellapsed":38978,"average":38978,"throughput":0,"memory_usage_after":{"rss":276385792,"vsize":3338252288,"heapTotal":246320960,"heapUsed":217934952},"rss_diff":157847552},{"name":"cached_key_map.get","started":1294954877748,"count":300000,"mem_usage_before":{"rss":276385792,"vsize":3338252288,"heapTotal":246320960,"heapUsed":217939848},"ended":1294954878046,"ellapsed":298,"average":0.0009933333333333333,"throughput":1006711,"memory_usage_after":{"rss":297115648,"vsize":3342446592,"heapTotal":250417280,"heapUsed":228649144},"rss_diff":20729856},{"name":"ending key_map","started":1294954878046,"count":1,"mem_usage_before":{"rss":297115648,"vsize":3342446592,"heapTotal":250417280,"heapUsed":228649872},"ended":1294954878048,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":297123840,"vsize":3342446592,"heapTotal":250417280,"heapUsed":228687264},"rss_diff":8192},{"name":"wait 10 seconds for gc to kick in","started":1294954878048,"count":1,"mem_usage_before":{"rss":297127936,"vsize":3342446592,"heapTotal":250417280,"heapUsed":228689816},"ended":1294954888048,"ellapsed":10000,"average":10000,"throughput":0,"memory_usage_after":{"rss":213209088,"vsize":3306786816,"heapTotal":168204704,"heapUsed":165857016},"rss_diff":-83918848}]},{"benchmark":"benchmark_unordered_index","results":[{"name":"open key map","started":1294954889218,"count":1,"mem_usage_before":{"rss":11866112,"vsize":3107741696,"heapTotal":5363872,"heapUsed":3010200},"ended":1294954889221,"ellapsed":3,"average":3,"throughput":333,"memory_usage_after":{"rss":12120064,"vsize":3117256704,"heapTotal":5624992,"heapUsed":3094688},"rss_diff":253952},{"name":"clear key map","started":1294954889221,"count":1,"mem_usage_before":{"rss":12124160,"vsize":3117256704,"heapTotal":5624992,"heapUsed":3096784},"ended":1294954889223,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":12185600,"vsize":3117334528,"heapTotal":5624992,"heapUsed":3147496},"rss_diff":61440},{"name":"populate key map","started":1294954889223,"count":90000,"mem_usage_before":{"rss":12206080,"vsize":3117334528,"heapTotal":5624992,"heapUsed":3171672},"ended":1294954892627,"ellapsed":3404,"average":0.03782222222222222,"throughput":26439,"memory_usage_after":{"rss":133431296,"vsize":3207401472,"heapTotal":126231008,"heapUsed":96221152},"rss_diff":121225216},{"name":"end key map","started":1294954892627,"count":1,"mem_usage_before":{"rss":133431296,"vsize":3207401472,"heapTotal":126231008,"heapUsed":96221784},"ended":1294954911884,"ellapsed":19257,"average":19257,"throughput":0,"memory_usage_after":{"rss":103743488,"vsize":3171749888,"heapTotal":96732608,"heapUsed":69917584},"rss_diff":-29687808},{"name":"reopen key map with 90000 elements","started":1294954911884,"count":1,"mem_usage_before":{"rss":103743488,"vsize":3171749888,"heapTotal":96732608,"heapUsed":69918328},"ended":1294954911885,"ellapsed":1,"average":1,"throughput":1000,"memory_usage_after":{"rss":103747584,"vsize":3171749888,"heapTotal":96732608,"heapUsed":69952560},"rss_diff":4096},{"name":"add index to key map with 90000 elements","started":1294954911885,"count":1,"mem_usage_before":{"rss":103747584,"vsize":3171749888,"heapTotal":96732608,"heapUsed":69953944},"ended":1294954933961,"ellapsed":22076,"average":22076,"throughput":0,"memory_usage_after":{"rss":175251456,"vsize":3237986304,"heapTotal":159368640,"heapUsed":125480568},"rss_diff":71503872},{"name":"scan index of key map with 90000 elements","started":1294954933961,"count":1,"mem_usage_before":{"rss":175251456,"vsize":3237986304,"heapTotal":159368640,"heapUsed":125486464},"ended":1294954933966,"ellapsed":5,"average":5,"throughput":200,"memory_usage_after":{"rss":175251456,"vsize":3237986304,"heapTotal":159368640,"heapUsed":125492024},"rss_diff":0},{"name":"scan and get 30000elements from a key map with 90000elements","started":1294954933966,"count":30000,"mem_usage_before":{"rss":175251456,"vsize":3237986304,"heapTotal":159368640,"heapUsed":125495776},"ended":1294954937563,"ellapsed":3597,"average":0.1199,"throughput":8340,"memory_usage_after":{"rss":234463232,"vsize":3279233024,"heapTotal":218283840,"heapUsed":193590800},"rss_diff":59211776}]},{"benchmark":"benchmark_cached_unordered_index","results":[{"name":"open key map","started":1294954939145,"count":1,"mem_usage_before":{"rss":12320768,"vsize":3107676160,"heapTotal":5559456,"heapUsed":3312624},"ended":1294954939149,"ellapsed":4,"average":4,"throughput":250,"memory_usage_after":{"rss":12533760,"vsize":3117191168,"heapTotal":5559456,"heapUsed":3408072},"rss_diff":212992},{"name":"clearing key map","started":1294954939149,"count":1,"mem_usage_before":{"rss":12537856,"vsize":3117191168,"heapTotal":5559456,"heapUsed":3409616},"ended":1294954939150,"ellapsed":1,"average":1,"throughput":1000,"memory_usage_after":{"rss":12599296,"vsize":3117268992,"heapTotal":5559456,"heapUsed":3460696},"rss_diff":61440},{"name":"populating key map","started":1294954939151,"count":90000,"mem_usage_before":{"rss":12627968,"vsize":3117268992,"heapTotal":5559456,"heapUsed":3494552},"ended":1294954943854,"ellapsed":4703,"average":0.052255555555555555,"throughput":19136,"memory_usage_after":{"rss":186028032,"vsize":3260342272,"heapTotal":178561312,"heapUsed":158785976},"rss_diff":173400064},{"name":"ending key map","started":1294954943854,"count":1,"mem_usage_before":{"rss":186028032,"vsize":3260342272,"heapTotal":178561312,"heapUsed":158786608},"ended":1294954964803,"ellapsed":20949,"average":20949,"throughput":0,"memory_usage_after":{"rss":136519680,"vsize":3211448320,"heapTotal":118580416,"heapUsed":89183216},"rss_diff":-49508352},{"name":"reopening key map with 90000 entries","started":1294954964803,"count":1,"mem_usage_before":{"rss":136519680,"vsize":3211448320,"heapTotal":118580416,"heapUsed":89183960},"ended":1294955000401,"ellapsed":35598,"average":35598,"throughput":0,"memory_usage_after":{"rss":292823040,"vsize":3361120256,"heapTotal":241515200,"heapUsed":174159872},"rss_diff":156303360},{"name":"adding index to key map with 90000 entries","started":1294955000401,"count":1,"mem_usage_before":{"rss":292823040,"vsize":3361120256,"heapTotal":241515200,"heapUsed":174160616},"ended":1294955015566,"ellapsed":15165,"average":15165,"throughput":0,"memory_usage_after":{"rss":297242624,"vsize":3387510784,"heapTotal":253028448,"heapUsed":246902864},"rss_diff":4419584},{"name":"scan index with 90000 entries","started":1294955015566,"count":1,"mem_usage_before":{"rss":297242624,"vsize":3387510784,"heapTotal":253028448,"heapUsed":246911368},"ended":1294955015571,"ellapsed":5,"average":5,"throughput":200,"memory_usage_after":{"rss":297242624,"vsize":3387510784,"heapTotal":253028448,"heapUsed":246917184},"rss_diff":0},{"name":"filter and get 30000 records from a key map with 90000 elements","started":1294955015571,"count":1,"mem_usage_before":{"rss":297246720,"vsize":3387510784,"heapTotal":253028448,"heapUsed":246922432},"ended":1294955015652,"ellapsed":81,"average":81,"throughput":12,"memory_usage_after":{"rss":309219328,"vsize":3397210112,"heapTotal":271078496,"heapUsed":259332944},"rss_diff":11972608}]},{"benchmark":"benchmark_cached_ordered_index","results":[{"name":"open key map","started":1294955016827,"count":1,"mem_usage_before":{"rss":12320768,"vsize":3107676160,"heapTotal":5559456,"heapUsed":3312760},"ended":1294955049390,"ellapsed":32563,"average":32563,"throughput":0,"memory_usage_after":{"rss":219045888,"vsize":3276705792,"heapTotal":171343648,"heapUsed":110740872},"rss_diff":206725120},{"name":"clearing key map","started":1294955049390,"count":1,"mem_usage_before":{"rss":219049984,"vsize":3276705792,"heapTotal":171343648,"heapUsed":110742416},"ended":1294955049396,"ellapsed":6,"average":6,"throughput":166,"memory_usage_after":{"rss":219086848,"vsize":3276705792,"heapTotal":171343648,"heapUsed":110799240},"rss_diff":36864},{"name":"populating key map","started":1294955049396,"count":90000,"mem_usage_before":{"rss":219107328,"vsize":3276705792,"heapTotal":171343648,"heapUsed":110819608},"ended":1294955054160,"ellapsed":4764,"average":0.05293333333333333,"throughput":18891,"memory_usage_after":{"rss":216403968,"vsize":3281530880,"heapTotal":166308512,"heapUsed":141417896},"rss_diff":-2703360},{"name":"ending key map","started":1294955054160,"count":1,"mem_usage_before":{"rss":216403968,"vsize":3281530880,"heapTotal":166308512,"heapUsed":141418528},"ended":1294955075059,"ellapsed":20899,"average":20899,"throughput":0,"memory_usage_after":{"rss":135446528,"vsize":3224219648,"heapTotal":90767328,"heapUsed":82715312},"rss_diff":-80957440},{"name":"reopening key map with 90000 entries","started":1294955075059,"count":1,"mem_usage_before":{"rss":135446528,"vsize":3224219648,"heapTotal":90767328,"heapUsed":82716056},"ended":1294955109463,"ellapsed":34404,"average":34404,"throughput":0,"memory_usage_after":{"rss":304209920,"vsize":3348992000,"heapTotal":247507456,"heapUsed":198448352},"rss_diff":168763392},{"name":"adding index to key map with 90000 entries","started":1294955109463,"count":1,"mem_usage_before":{"rss":304209920,"vsize":3348992000,"heapTotal":247507456,"heapUsed":198449096},"ended":1294955124329,"ellapsed":14866,"average":14866,"throughput":0,"memory_usage_after":{"rss":269717504,"vsize":3358244864,"heapTotal":215802784,"heapUsed":210869488},"rss_diff":-34492416},{"name":"scan index with 90000 entries","started":1294955124329,"count":1,"mem_usage_before":{"rss":269721600,"vsize":3358244864,"heapTotal":215802784,"heapUsed":210877992},"ended":1294955124333,"ellapsed":4,"average":4,"throughput":250,"memory_usage_after":{"rss":269721600,"vsize":3358244864,"heapTotal":215802784,"heapUsed":210883808},"rss_diff":0},{"name":"filter and get 30000 records from a key map with 90000 elements","started":1294955124334,"count":1,"mem_usage_before":{"rss":269725696,"vsize":3358244864,"heapTotal":215802784,"heapUsed":210889056},"ended":1294955124394,"ellapsed":60,"average":60,"throughput":16,"memory_usage_after":{"rss":275361792,"vsize":3362439168,"heapTotal":224166848,"heapUsed":217149000},"rss_diff":5636096}]}]
