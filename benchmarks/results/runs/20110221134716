[{"benchmark":"benchmark_find","results":[{"name":"populating keymap that has 2 attached indexes","started":1298296036613,"count":100000,"mem_usage_before":{"rss":16023552,"vsize":3119525888,"heapTotal":9299136,"heapUsed":5907568},"ended":1298296044552,"ellapsed":7939,"average":0.07939,"throughput":12596,"memory_usage_after":{"rss":207683584,"vsize":3283578880,"heapTotal":199482720,"heapUsed":165530376},"rss_diff":191660032},{"name":"finder with no get","started":1298296044552,"count":1000,"mem_usage_before":{"rss":207683584,"vsize":3283578880,"heapTotal":199482720,"heapUsed":165531816},"ended":1298296044578,"ellapsed":26,"average":0.026,"throughput":38461,"memory_usage_after":{"rss":208527360,"vsize":3284365312,"heapTotal":200241600,"heapUsed":175855568},"rss_diff":843776},{"name":"find $eq operator","started":1298296044578,"count":1000,"mem_usage_before":{"rss":208527360,"vsize":3284365312,"heapTotal":200241600,"heapUsed":175857016},"ended":1298296055884,"ellapsed":11306,"average":11.306,"throughput":88,"memory_usage_after":{"rss":210489344,"vsize":3286401024,"heapTotal":202047712,"heapUsed":166538112},"rss_diff":1961984},{"name":"find $range operator","started":1298296055884,"count":1000,"mem_usage_before":{"rss":210489344,"vsize":3286401024,"heapTotal":202047712,"heapUsed":166538744},"ended":1298296079003,"ellapsed":23119,"average":23.119,"throughput":43,"memory_usage_after":{"rss":210505728,"vsize":3286417408,"heapTotal":202064096,"heapUsed":173361344},"rss_diff":16384}]},{"benchmark":"benchmark_collection","results":[{"name":"opening collection","started":1298296106715,"count":1,"mem_usage_before":{"rss":10178560,"vsize":3108007936,"heapTotal":4187264,"heapUsed":2334336},"ended":1298296106760,"ellapsed":45,"average":45,"throughput":22,"memory_usage_after":{"rss":13242368,"vsize":3110363136,"heapTotal":5740672,"heapUsed":2570256},"rss_diff":3063808},{"name":"prunning collection","started":1298296106760,"count":1,"mem_usage_before":{"rss":13242368,"vsize":3110363136,"heapTotal":5740672,"heapUsed":2571696},"ended":1298296106763,"ellapsed":3,"average":3,"throughput":333,"memory_usage_after":{"rss":13271040,"vsize":3118751744,"heapTotal":5740672,"heapUsed":2642936},"rss_diff":28672},{"name":"populating collection","started":1298296106763,"count":100000,"mem_usage_before":{"rss":13271040,"vsize":3118751744,"heapTotal":5740672,"heapUsed":2644688},"ended":1298296110119,"ellapsed":3356,"average":0.03356,"throughput":29797,"memory_usage_after":{"rss":85684224,"vsize":3160145920,"heapTotal":78028384,"heapUsed":50749600},"rss_diff":72413184},{"name":"reading entire collection of 100000 records","started":1298296110119,"count":1,"mem_usage_before":{"rss":85684224,"vsize":3160145920,"heapTotal":78028384,"heapUsed":50750344},"ended":1298296498194,"ellapsed":388075,"average":388075,"throughput":0,"memory_usage_after":{"rss":85946368,"vsize":3160576000,"heapTotal":78421728,"heapUsed":45957312},"rss_diff":262144}]},{"benchmark":"benchmark_collection_filter","results":[{"name":"Collection filter of collection with 100000 records","started":1298296528808,"count":1,"mem_usage_before":{"rss":88043520,"vsize":3162673152,"heapTotal":80372064,"heapUsed":54076424},"ended":1298296954163,"ellapsed":425355,"average":425355,"throughput":0,"memory_usage_after":{"rss":57810944,"vsize":3163983872,"heapTotal":50220384,"heapUsed":47245960},"rss_diff":-30232576}]},{"benchmark":"benchmark_key_map","results":[{"name":"Insert object into key map","started":1298296978697,"count":50000,"mem_usage_before":{"rss":13500416,"vsize":3118862336,"heapTotal":6034560,"heapUsed":3169872},"ended":1298296980793,"ellapsed":2096,"average":0.04192,"throughput":23854,"memory_usage_after":{"rss":72519680,"vsize":3146944512,"heapTotal":65096096,"heapUsed":42317520},"rss_diff":59019264},{"name":"Retrieve a random object by key from a 50000 hash map","started":1298296981793,"count":10,"mem_usage_before":{"rss":72523776,"vsize":3146944512,"heapTotal":65096096,"heapUsed":42341752},"ended":1298297834341,"ellapsed":852548,"average":85254.8,"throughput":0,"memory_usage_after":{"rss":27066368,"vsize":3128348672,"heapTotal":19008032,"heapUsed":15244696},"rss_diff":-45457408}]},{"benchmark":"benchmark_key_map_each_with_pos","results":[{"name":"key_map.each_with_pos for a key map with 100000 elements","started":1298297840785,"count":1,"mem_usage_before":{"rss":62906368,"vsize":3170385920,"heapTotal":55504000,"heapUsed":52762640},"ended":1298298248782,"ellapsed":407997,"average":407997,"throughput":0,"memory_usage_after":{"rss":60981248,"vsize":3130802176,"heapTotal":49364096,"heapUsed":11779768},"rss_diff":-1925120}]},{"benchmark":"benchmark_indexed_key_map","results":[{"name":"open empty indexed key map","started":1298298249966,"count":1,"mem_usage_before":{"rss":13463552,"vsize":3109236736,"heapTotal":6001792,"heapUsed":3440064},"ended":1298298249969,"ellapsed":3,"average":3,"throughput":333,"memory_usage_after":{"rss":13537280,"vsize":3118829568,"heapTotal":6001792,"heapUsed":3510440},"rss_diff":73728},{"name":"clear empty indexed key map","started":1298298249969,"count":1,"mem_usage_before":{"rss":13537280,"vsize":3118829568,"heapTotal":6001792,"heapUsed":3512448},"ended":1298298249971,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":13553664,"vsize":3118829568,"heapTotal":6001792,"heapUsed":3559952},"rss_diff":16384},{"name":"populate indexed key map","started":1298298249971,"count":100000,"mem_usage_before":{"rss":13553664,"vsize":3118829568,"heapTotal":6001792,"heapUsed":3561224},"ended":1298298255833,"ellapsed":5862,"average":0.05862,"throughput":17059,"memory_usage_after":{"rss":132767744,"vsize":3207348224,"heapTotal":124941216,"heapUsed":94681272},"rss_diff":119214080},{"name":"reopen indexed key map with 100000 elements","started":1298298280181,"count":1,"mem_usage_before":{"rss":94191616,"vsize":3160686592,"heapTotal":80754816,"heapUsed":45304552},"ended":1298298289339,"ellapsed":9158,"average":9158,"throughput":0,"memory_usage_after":{"rss":121622528,"vsize":3176685568,"heapTotal":107968640,"heapUsed":74090888},"rss_diff":27430912},{"name":"indexed_key_map.get","started":1298298289340,"count":300000,"mem_usage_before":{"rss":121626624,"vsize":3176685568,"heapTotal":107968640,"heapUsed":74099280},"ended":1298298298862,"ellapsed":9522,"average":0.03174,"throughput":31505,"memory_usage_after":{"rss":595075072,"vsize":3653066752,"heapTotal":433054880,"heapUsed":397373384},"rss_diff":473448448}]},{"benchmark":"benchmark_indexed_key_map_random","results":[{"name":"open empty indexed key map","started":1298298326022,"count":1,"mem_usage_before":{"rss":13434880,"vsize":3109236736,"heapTotal":6001792,"heapUsed":3440680},"ended":1298298326024,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":13500416,"vsize":3110440960,"heapTotal":6001792,"heapUsed":3511096},"rss_diff":65536},{"name":"clear empty indexed key map","started":1298298326024,"count":1,"mem_usage_before":{"rss":13500416,"vsize":3110440960,"heapTotal":6001792,"heapUsed":3513104},"ended":1298298326026,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":13512704,"vsize":3110440960,"heapTotal":6001792,"heapUsed":3560624},"rss_diff":12288},{"name":"populate indexed key map","started":1298298326026,"count":100000,"mem_usage_before":{"rss":13512704,"vsize":3110440960,"heapTotal":6001792,"heapUsed":3561896},"ended":1298298331703,"ellapsed":5677,"average":0.05677,"throughput":17614,"memory_usage_after":{"rss":132472832,"vsize":3198697472,"heapTotal":124737216,"heapUsed":100029360},"rss_diff":118960128},{"name":"reopen indexed key map with 100000 elements","started":1298298356336,"count":1,"mem_usage_before":{"rss":94494720,"vsize":3160686592,"heapTotal":80754816,"heapUsed":45311088},"ended":1298298365382,"ellapsed":9046,"average":9046,"throughput":0,"memory_usage_after":{"rss":121901056,"vsize":3176685568,"heapTotal":107968640,"heapUsed":74185488},"rss_diff":27406336},{"name":"cached_key_map.get","started":1298298365382,"count":300000,"mem_usage_before":{"rss":121901056,"vsize":3176685568,"heapTotal":107968640,"heapUsed":74190384},"ended":1298298401964,"ellapsed":36582,"average":0.12194,"throughput":8200,"memory_usage_after":{"rss":215728128,"vsize":3272957952,"heapTotal":148393280,"heapUsed":96302680},"rss_diff":93827072}]},{"benchmark":"benchmark_cached_key_map_random","results":[{"name":"open empty indexed key map","started":1298298403155,"count":1,"mem_usage_before":{"rss":13500416,"vsize":3109277696,"heapTotal":6042752,"heapUsed":3565104},"ended":1298298403158,"ellapsed":3,"average":3,"throughput":333,"memory_usage_after":{"rss":13565952,"vsize":3118870528,"heapTotal":6042752,"heapUsed":3640576},"rss_diff":65536},{"name":"clear empty indexed key map","started":1298298403158,"count":1,"mem_usage_before":{"rss":13565952,"vsize":3118870528,"heapTotal":6042752,"heapUsed":3642584},"ended":1298298403159,"ellapsed":1,"average":1,"throughput":1000,"memory_usage_after":{"rss":13582336,"vsize":3118870528,"heapTotal":6042752,"heapUsed":3690728},"rss_diff":16384},{"name":"populate indexed key map","started":1298298403159,"count":100000,"mem_usage_before":{"rss":13582336,"vsize":3118870528,"heapTotal":6042752,"heapUsed":3692000},"ended":1298298409719,"ellapsed":6560,"average":0.0656,"throughput":15243,"memory_usage_after":{"rss":199294976,"vsize":3275350016,"heapTotal":191384736,"heapUsed":165072208},"rss_diff":185712640},{"name":"reopen indexed key map with 100000 records","started":1298298438496,"count":1,"mem_usage_before":{"rss":130420736,"vsize":3215454208,"heapTotal":114206592,"heapUsed":105110792},"ended":1298298461491,"ellapsed":22995,"average":22995,"throughput":0,"memory_usage_after":{"rss":313802752,"vsize":3351126016,"heapTotal":267410944,"heapUsed":184108104},"rss_diff":183382016},{"name":"cached_key_map.get","started":1298298461491,"count":300000,"mem_usage_before":{"rss":313802752,"vsize":3351126016,"heapTotal":267410944,"heapUsed":184113000},"ended":1298298461761,"ellapsed":270,"average":0.0009,"throughput":1111111,"memory_usage_after":{"rss":313802752,"vsize":3351126016,"heapTotal":267410944,"heapUsed":180463984},"rss_diff":0},{"name":"ending key_map","started":1298298461761,"count":1,"mem_usage_before":{"rss":313802752,"vsize":3351126016,"heapTotal":267410944,"heapUsed":180464712},"ended":1298298461762,"ellapsed":1,"average":1,"throughput":1000,"memory_usage_after":{"rss":313802752,"vsize":3351126016,"heapTotal":267410944,"heapUsed":180502912},"rss_diff":0},{"name":"wait 10 seconds for gc to kick in","started":1298298461762,"count":1,"mem_usage_before":{"rss":313802752,"vsize":3351126016,"heapTotal":267410944,"heapUsed":180506760},"ended":1298298471762,"ellapsed":10000,"average":10000,"throughput":0,"memory_usage_after":{"rss":213598208,"vsize":3308134400,"heapTotal":168768288,"heapUsed":166215120},"rss_diff":-100204544}]},{"benchmark":"benchmark_unordered_index","results":[{"name":"open key map","started":1298298472920,"count":1,"mem_usage_before":{"rss":13434880,"vsize":3109269504,"heapTotal":6034560,"heapUsed":3119088},"ended":1298298472922,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":13479936,"vsize":3110395904,"heapTotal":6034560,"heapUsed":3165512},"rss_diff":45056},{"name":"clear key map","started":1298298472922,"count":1,"mem_usage_before":{"rss":13479936,"vsize":3110395904,"heapTotal":6034560,"heapUsed":3167608},"ended":1298298472924,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":13520896,"vsize":3118862336,"heapTotal":6034560,"heapUsed":3221216},"rss_diff":40960},{"name":"populate key map","started":1298298472924,"count":90000,"mem_usage_before":{"rss":13520896,"vsize":3118862336,"heapTotal":6034560,"heapUsed":3262672},"ended":1298298476657,"ellapsed":3733,"average":0.04147777777777778,"throughput":24109,"memory_usage_after":{"rss":146792448,"vsize":3221495808,"heapTotal":139083552,"heapUsed":118071336},"rss_diff":133271552},{"name":"end key map","started":1298298476657,"count":1,"mem_usage_before":{"rss":146792448,"vsize":3221495808,"heapTotal":139083552,"heapUsed":118071968},"ended":1298298497894,"ellapsed":21237,"average":21237,"throughput":0,"memory_usage_after":{"rss":116867072,"vsize":3175358464,"heapTotal":99776832,"heapUsed":76343160},"rss_diff":-29925376},{"name":"reopen key map with 90000 elements","started":1298298497895,"count":1,"mem_usage_before":{"rss":116867072,"vsize":3175358464,"heapTotal":99776832,"heapUsed":76343904},"ended":1298298497896,"ellapsed":1,"average":1,"throughput":1000,"memory_usage_after":{"rss":116871168,"vsize":3175358464,"heapTotal":99776832,"heapUsed":76378280},"rss_diff":4096},{"name":"add index to key map with 90000 elements","started":1298298497896,"count":1,"mem_usage_before":{"rss":116871168,"vsize":3175358464,"heapTotal":99776832,"heapUsed":76379616},"ended":1298298507726,"ellapsed":9830,"average":9830,"throughput":0,"memory_usage_after":{"rss":208367616,"vsize":3251818496,"heapTotal":190670944,"heapUsed":133966392},"rss_diff":91496448},{"name":"scan index of key map with 90000 elements","started":1298298507726,"count":1,"mem_usage_before":{"rss":208371712,"vsize":3251818496,"heapTotal":190670944,"heapUsed":133974896},"ended":1298298507732,"ellapsed":6,"average":6,"throughput":166,"memory_usage_after":{"rss":208371712,"vsize":3251818496,"heapTotal":190670944,"heapUsed":133981808},"rss_diff":0},{"name":"scan and get 30000elements from a key map with 90000elements","started":1298298507732,"count":30000,"mem_usage_before":{"rss":208371712,"vsize":3251818496,"heapTotal":190670944,"heapUsed":133986264},"ended":1298298511334,"ellapsed":3602,"average":0.12006666666666667,"throughput":8328,"memory_usage_after":{"rss":271437824,"vsize":3303649280,"heapTotal":243580384,"heapUsed":222219280},"rss_diff":63066112}]},{"benchmark":"benchmark_cached_unordered_index","results":[{"name":"open key map","started":1298298512503,"count":1,"mem_usage_before":{"rss":13422592,"vsize":3109236736,"heapTotal":6001792,"heapUsed":3555672},"ended":1298298512505,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":13492224,"vsize":3118829568,"heapTotal":6001792,"heapUsed":3631328},"rss_diff":69632},{"name":"clearing key map","started":1298298512505,"count":1,"mem_usage_before":{"rss":13492224,"vsize":3118829568,"heapTotal":6001792,"heapUsed":3633376},"ended":1298298512507,"ellapsed":2,"average":2,"throughput":500,"memory_usage_after":{"rss":13512704,"vsize":3118829568,"heapTotal":6001792,"heapUsed":3681504},"rss_diff":20480},{"name":"populating key map","started":1298298512507,"count":90000,"mem_usage_before":{"rss":13512704,"vsize":3118829568,"heapTotal":6001792,"heapUsed":3714568},"ended":1298298517482,"ellapsed":4975,"average":0.05527777777777778,"throughput":18090,"memory_usage_after":{"rss":183365632,"vsize":3258437632,"heapTotal":175562976,"heapUsed":147042544},"rss_diff":169852928},{"name":"ending key map","started":1298298517482,"count":1,"mem_usage_before":{"rss":183365632,"vsize":3258437632,"heapTotal":175562976,"heapUsed":147043176},"ended":1298298538534,"ellapsed":21052,"average":21052,"throughput":0,"memory_usage_after":{"rss":138137600,"vsize":3213221888,"heapTotal":120115040,"heapUsed":86962624},"rss_diff":-45228032},{"name":"reopening key map with 90000 entries","started":1298298538534,"count":1,"mem_usage_before":{"rss":138137600,"vsize":3213221888,"heapTotal":120115040,"heapUsed":86963368},"ended":1298298560107,"ellapsed":21573,"average":21573,"throughput":0,"memory_usage_after":{"rss":246517760,"vsize":3307941888,"heapTotal":197313024,"heapUsed":173139960},"rss_diff":108380160},{"name":"adding index to key map with 90000 entries","started":1298298560107,"count":1,"mem_usage_before":{"rss":246517760,"vsize":3307941888,"heapTotal":197313024,"heapUsed":173140704},"ended":1298298573707,"ellapsed":13600,"average":13600,"throughput":0,"memory_usage_after":{"rss":292052992,"vsize":3378102272,"heapTotal":234713728,"heapUsed":229971096},"rss_diff":45535232},{"name":"scan index with 90000 entries","started":1298298573707,"count":1,"mem_usage_before":{"rss":292061184,"vsize":3378102272,"heapTotal":234713728,"heapUsed":229979600},"ended":1298298573711,"ellapsed":4,"average":4,"throughput":250,"memory_usage_after":{"rss":292061184,"vsize":3378102272,"heapTotal":234713728,"heapUsed":229986976},"rss_diff":0},{"name":"filter and get 30000 records from a key map with 90000 elements","started":1298298573711,"count":1,"mem_usage_before":{"rss":292065280,"vsize":3378102272,"heapTotal":234713728,"heapUsed":229993720},"ended":1298298573785,"ellapsed":74,"average":74,"throughput":13,"memory_usage_after":{"rss":303521792,"vsize":3387539456,"heapTotal":248153312,"heapUsed":239118152},"rss_diff":11456512}]},{"benchmark":"benchmark_cached_ordered_index","results":[{"name":"open key map","started":1298298574964,"count":1,"mem_usage_before":{"rss":13422592,"vsize":3109236736,"heapTotal":6001792,"heapUsed":3555920},"ended":1298298595813,"ellapsed":20849,"average":20849,"throughput":0,"memory_usage_after":{"rss":194383872,"vsize":3257733120,"heapTotal":143241632,"heapUsed":121341008},"rss_diff":180961280},{"name":"clearing key map","started":1298298595813,"count":1,"mem_usage_before":{"rss":194383872,"vsize":3257733120,"heapTotal":143241632,"heapUsed":121342552},"ended":1298298595818,"ellapsed":5,"average":5,"throughput":200,"memory_usage_after":{"rss":194400256,"vsize":3257733120,"heapTotal":143241632,"heapUsed":121399048},"rss_diff":16384},{"name":"populating key map","started":1298298595818,"count":90000,"mem_usage_before":{"rss":194400256,"vsize":3257733120,"heapTotal":143241632,"heapUsed":121433496},"ended":1298298600947,"ellapsed":5129,"average":0.05698888888888889,"throughput":17547,"memory_usage_after":{"rss":226267136,"vsize":3291791360,"heapTotal":177080256,"heapUsed":144779720},"rss_diff":31866880},{"name":"ending key map","started":1298298600947,"count":1,"mem_usage_before":{"rss":226267136,"vsize":3291791360,"heapTotal":177080256,"heapUsed":144780352},"ended":1298298622507,"ellapsed":21560,"average":21560,"throughput":0,"memory_usage_after":{"rss":121061376,"vsize":3218489344,"heapTotal":72281280,"heapUsed":70156056},"rss_diff":-105205760},{"name":"reopening key map with 90000 entries","started":1298298622508,"count":1,"mem_usage_before":{"rss":121061376,"vsize":3218489344,"heapTotal":72281280,"heapUsed":70156800},"ended":1298298644749,"ellapsed":22241,"average":22241,"throughput":0,"memory_usage_after":{"rss":241565696,"vsize":3318001664,"heapTotal":192462048,"heapUsed":177102096},"rss_diff":120504320},{"name":"adding index to key map with 90000 entries","started":1298298644749,"count":1,"mem_usage_before":{"rss":241565696,"vsize":3318001664,"heapTotal":192462048,"heapUsed":177102840},"ended":1298298656839,"ellapsed":12090,"average":12090,"throughput":0,"memory_usage_after":{"rss":338898944,"vsize":3408883712,"heapTotal":278982400,"heapUsed":266541344},"rss_diff":97333248},{"name":"scan index with 90000 entries","started":1298298656839,"count":1,"mem_usage_before":{"rss":338907136,"vsize":3408883712,"heapTotal":278982400,"heapUsed":266549848},"ended":1298298656843,"ellapsed":4,"average":4,"throughput":250,"memory_usage_after":{"rss":338907136,"vsize":3408883712,"heapTotal":278982400,"heapUsed":266557224},"rss_diff":0},{"name":"filter and get 30000 records from a key map with 90000 elements","started":1298298656844,"count":1,"mem_usage_before":{"rss":338911232,"vsize":3408883712,"heapTotal":278982400,"heapUsed":266563968},"ended":1298298656915,"ellapsed":71,"average":71,"throughput":14,"memory_usage_after":{"rss":349728768,"vsize":3419369472,"heapTotal":306171776,"heapUsed":276670592},"rss_diff":10817536}]}]
